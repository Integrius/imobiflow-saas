(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{84:function(e,t,s){Promise.resolve().then(s.bind(s,9297))},9297:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(9566),n=s(8590),r=s(6555),l=s(1634),i=s(5538);function c(){let e=(0,r.useRouter)(),[t,s]=(0,n.useState)(null),[c,o]=(0,n.useState)(null),[d,m]=(0,n.useState)(!0),[x,u]=(0,n.useState)("");return((0,n.useEffect)(()=>{(async function(){if(!(0,l.LP)()){e.push("/login");return}let t=localStorage.getItem("user");t&&s(JSON.parse(t));try{let e=await i.h.get("/dashboard/overview").then(e=>e.data);o(e)}catch(e){u("Erro ao carregar dados"),console.error(e)}finally{m(!1)}})()},[e]),d)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):x?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-red-600 mb-4",children:x}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Tentar Novamente"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("nav",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"ImobiFlow"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-700",children:["Ol\xe1, ",null==t?void 0:t.nome]}),(0,a.jsx)("button",{onClick:l.kS,className:"text-sm text-red-600 hover:text-red-700",children:"Sair"})]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Dashboard"}),c&&(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total de Leads"}),(0,a.jsx)("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:c.leads.total}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-600",children:[c.leads.quentes," quentes"]})]})})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Im\xf3veis"}),(0,a.jsx)("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:c.imoveis.total}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-600",children:[c.imoveis.disponiveis," dispon\xedveis"]})]})})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Negocia\xe7\xf5es"}),(0,a.jsx)("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:c.negociacoes.total}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-600",children:[c.negociacoes.fechadas," fechadas (",c.negociacoes.taxaConversao,"% convers\xe3o)"]})]})})})})]})]})})]})}},5538:function(e,t,s){"use strict";s.d(t,{h:function(){return a}});let a=s(7412).Z.create({baseURL:"".concat("https://api.integrius.com.br","/api/v1"),headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)})},1634:function(e,t,s){"use strict";s.d(t,{LP:function(){return l},kS:function(){return r},x4:function(){return n}});var a=s(5538);async function n(e){let t=await a.h.post("/auth/login",e);return t.data.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data}function r(){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"}function l(){return localStorage.getItem("token")}}},function(e){e.O(0,[827,977,844,744],function(){return e(e.s=84)}),_N_E=e.O()}]);